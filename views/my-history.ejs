<%- include('partials/header') %>

<div class="list-page-container">
    <div class="list-page-header">
        <h2 class="page-title">挑戦履歴</h2>
        <p class="page-description">これまでの学習の記録を確認できます。</p>
    </div>

    <% if (attempts && attempts.length > 0) { %>
        <div class="history-list">
            <% attempts.forEach(attempt => { %>
                <div class="history-list-item">
                    <div class="history-info">
                        <h3 class="history-title"><%= attempt.quizTitle %></h3>
                        <div class="history-meta">
                            <span class="meta-item">挑戦日: <%= new Date(attempt.attemptedAt).toLocaleString() %></span>
                        </div>
                    </div>
                    <div class="history-score">
                        <span>スコア</span>
                        <p><%= attempt.totalScore %> / <%= attempt.maxScore %> 点</p>
                    </div>
                </div>
            <% }); %>
        </div>
    <% } else { %>
        <div class="no-content-message">
            <p>挑戦の履歴はまだありません。</p>
            <a href="/public-quizzes" class="button">公開テストに挑戦する</a>
        </div>
    <% } %>
</div>

<%- include('partials/footer') %>