<%
// SEO metadata for public quizzes page
const pageTitle = '公開テスト一覧 - Synapse Note | みんなのAI問題集';
const pageDescription = '他のユーザーが作成したAI生成問題に挑戦！英語・日本語の様々な分野の問題が公開されています。無料で利用できる学習コンテンツで知識を深めましょう。';
const pageKeywords = '公開問題,AI問題,クイズ挑戦,英語問題,日本語問題,無料学習,オンラインテスト,教育コンテンツ';
const canonicalUrl = 'https://synapse-note.vercel.app/public-quizzes';
const ogType = 'website';
const structuredData = {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "公開テスト一覧",
    "description": "他のユーザーが作成したAI生成問題に挑戦できる公開テスト一覧",
    "url": "https://synapse-note.vercel.app/public-quizzes",
    "isPartOf": {
        "@type": "WebApplication",
        "name": "Synapse Note",
        "url": "https://synapse-note.vercel.app"
    }
};
%>
<%- include('partials/header') %>

<div class="list-page-container">
    <div class="list-page-header">
        <h2 class="page-title">公開テスト一覧</h2>
        <p class="page-description">他のユーザーが作成した公開テストに挑戦できます。</p>
    </div>

    <% if (quizzes && quizzes.length > 0) { %>
        <div class="quiz-list">
            <% quizzes.forEach(quiz => { %>
                <div class="quiz-list-item">
                    <div class="quiz-info">
                        <h3 class="quiz-title"><%= quiz.title %></h3>
                        <div class="quiz-meta">
                            <span class="meta-item">科目: <%= quiz.subject %></span>
                            <span class="meta-item">学年: <%= quiz.difficulty %></span>
                            <span class="meta-item">作成者: 
                                <% if (quiz.ownerHandle) { %>
                                    <a href="/profile/<%= quiz.ownerHandle.replace('@', '') %>"><%= quiz.ownerUsername %></a>
                                <% } else { %>
                                    <%= quiz.ownerUsername %>
                                <% } %>
                            </span>
                        </div>
                    </div>
                    <div class="quiz-actions">
                        <a href="/quiz/<%= quiz.id %>" class="button">このテストに挑戦する</a>
                    </div>
                </div>
            <% }); %>
        </div>
    <% } else { %>
        <div class="no-content-message">
            <p>現在、公開されているテストはありません。</p>
        </div>
    <% } %>
</div>

<%- include('partials/footer') %>